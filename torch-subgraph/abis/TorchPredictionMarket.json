[{"type":"constructor","inputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"BATCH_SIZE","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"BPS_DENOM","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"FEE_BPS","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MAX_DAYS_AHEAD","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MAX_STAKE","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MIN_DAYS_AHEAD","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MIN_STAKE","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"SECONDS_PER_DAY","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"arePricesSetForBucket","inputs":[{"name":"bucket","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"bets","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"bettor","type":"address","internalType":"address"},{"name":"targetTimestamp","type":"uint256","internalType":"uint256"},{"name":"priceMin","type":"uint256","internalType":"uint256"},{"name":"priceMax","type":"uint256","internalType":"uint256"},{"name":"stake","type":"uint256","internalType":"uint256"},{"name":"qualityBps","type":"uint256","internalType":"uint256"},{"name":"weight","type":"uint256","internalType":"uint256"},{"name":"finalized","type":"bool","internalType":"bool"},{"name":"claimed","type":"bool","internalType":"bool"},{"name":"actualPrice","type":"uint256","internalType":"uint256"},{"name":"won","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"bucketIndex","inputs":[{"name":"targetTs","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"buckets","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"totalStaked","type":"uint256","internalType":"uint256"},{"name":"totalWeight","type":"uint256","internalType":"uint256"},{"name":"totalWinningWeight","type":"uint256","internalType":"uint256"},{"name":"nextProcessIndex","type":"uint256","internalType":"uint256"},{"name":"aggregationComplete","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"claimBet","inputs":[{"name":"betId","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"emergencyWithdraw","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getBatchInfo","inputs":[{"name":"bucket","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"nextBatchStart","type":"uint256","internalType":"uint256"},{"name":"nextBatchEnd","type":"uint256","internalType":"uint256"},{"name":"remainingBets","type":"uint256","internalType":"uint256"},{"name":"canProcess","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"getBet","inputs":[{"name":"betId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"tuple","internalType":"struct TorchPredictionMarket.Bet","components":[{"name":"bettor","type":"address","internalType":"address"},{"name":"targetTimestamp","type":"uint256","internalType":"uint256"},{"name":"priceMin","type":"uint256","internalType":"uint256"},{"name":"priceMax","type":"uint256","internalType":"uint256"},{"name":"stake","type":"uint256","internalType":"uint256"},{"name":"qualityBps","type":"uint256","internalType":"uint256"},{"name":"weight","type":"uint256","internalType":"uint256"},{"name":"finalized","type":"bool","internalType":"bool"},{"name":"claimed","type":"bool","internalType":"bool"},{"name":"actualPrice","type":"uint256","internalType":"uint256"},{"name":"won","type":"bool","internalType":"bool"}]}],"stateMutability":"view"},{"type":"function","name":"getBucketInfo","inputs":[{"name":"bucket","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"totalBets","type":"uint256","internalType":"uint256"},{"name":"totalWinningWeight","type":"uint256","internalType":"uint256"},{"name":"nextProcessIndex","type":"uint256","internalType":"uint256"},{"name":"aggregationComplete","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"getBucketStats","inputs":[{"name":"bucket","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"totalStaked","type":"uint256","internalType":"uint256"},{"name":"totalWeight","type":"uint256","internalType":"uint256"},{"name":"price","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getPriceAtTimestamp","inputs":[{"name":"timestamp","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getSharpnessMultiplier","inputs":[{"name":"priceMin","type":"uint256","internalType":"uint256"},{"name":"priceMax","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"getStats","inputs":[],"outputs":[{"name":"totalBets","type":"uint256","internalType":"uint256"},{"name":"totalFees","type":"uint256","internalType":"uint256"},{"name":"contractBalance","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getTimeMultiplier","inputs":[{"name":"targetTimestamp","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"nextBetId","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"pause","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"paused","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"placeBet","inputs":[{"name":"targetTimestamp","type":"uint256","internalType":"uint256"},{"name":"priceMin","type":"uint256","internalType":"uint256"},{"name":"priceMax","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"payable"},{"type":"function","name":"pricesAtTimestamp","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"processBatch","inputs":[{"name":"bucket","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"processedCount","type":"uint256","internalType":"uint256"},{"name":"winningWeight","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"renounceOwnership","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setPriceForTimestamp","inputs":[{"name":"timestamp","type":"uint256","internalType":"uint256"},{"name":"price","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setPricesForTimestamps","inputs":[{"name":"timestamps","type":"uint256[]","internalType":"uint256[]"},{"name":"prices","type":"uint256[]","internalType":"uint256[]"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"simulatePlaceBet","inputs":[{"name":"targetTimestamp","type":"uint256","internalType":"uint256"},{"name":"priceMin","type":"uint256","internalType":"uint256"},{"name":"priceMax","type":"uint256","internalType":"uint256"},{"name":"stakeAmount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"tuple","internalType":"struct TorchPredictionMarket.BetSimulation","components":[{"name":"fee","type":"uint256","internalType":"uint256"},{"name":"stakeNet","type":"uint256","internalType":"uint256"},{"name":"sharpnessBps","type":"uint256","internalType":"uint256"},{"name":"timeBps","type":"uint256","internalType":"uint256"},{"name":"qualityBps","type":"uint256","internalType":"uint256"},{"name":"weight","type":"uint256","internalType":"uint256"},{"name":"bucket","type":"uint256","internalType":"uint256"},{"name":"isValid","type":"bool","internalType":"bool"},{"name":"errorMessage","type":"string","internalType":"string"}]}],"stateMutability":"view"},{"type":"function","name":"startTimestamp","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"totalFeesCollected","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"transferOwnership","inputs":[{"name":"newOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"unpause","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"withdrawFees","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"AggregationCompleted","inputs":[{"name":"bucket","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"totalWinningWeight","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"BatchProcessed","inputs":[{"name":"bucket","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"processedCount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"winningWeight","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"BetClaimed","inputs":[{"name":"betId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"bettor","type":"address","indexed":true,"internalType":"address"},{"name":"payout","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"BetFinalized","inputs":[{"name":"betId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"actualPrice","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"won","type":"bool","indexed":false,"internalType":"bool"},{"name":"payout","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"BetPlaced","inputs":[{"name":"betId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"bettor","type":"address","indexed":true,"internalType":"address"},{"name":"bucket","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"stake","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"priceMin","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"priceMax","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"targetTimestamp","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"BucketPriceSet","inputs":[{"name":"bucket","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"price","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"FeeCollected","inputs":[{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"OwnershipTransferred","inputs":[{"name":"previousOwner","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"Paused","inputs":[{"name":"account","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"Unpaused","inputs":[{"name":"account","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"error","name":"EnforcedPause","inputs":[]},{"type":"error","name":"ExpectedPause","inputs":[]},{"type":"error","name":"OwnableInvalidOwner","inputs":[{"name":"owner","type":"address","internalType":"address"}]},{"type":"error","name":"OwnableUnauthorizedAccount","inputs":[{"name":"account","type":"address","internalType":"address"}]},{"type":"error","name":"ReentrancyGuardReentrantCall","inputs":[]}]